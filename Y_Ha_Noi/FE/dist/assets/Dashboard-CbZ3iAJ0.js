import{A as x,B as L,o as v,j as n,_ as V,a as B,r as p,C as O,D as R,c as D,b as t,d as a,w as l,s as Y,x as d,F as $,q as A,G as M,H as j,I,J as C,K as q,g as H,L as Q,M as U,N as X,O as Z,P as G,Q as J,R as K,p as h,S as W,T as tt,U as at,V as et,W as st,X as lt,Y as nt,Z as ot,$ as dt,a0 as ct}from"./index-WXSJfKjD.js";/* empty css                        *//* empty css                    *//* empty css               *//* empty css                  */import{C as it,a as rt,L as _t,P as ut,b as pt,p as ht,c as vt,d as mt,i as gt,e as bt,_ as ft}from"./BarChart-BO9Soj_s.js";const yt={__name:"LineChart",props:{data:{type:Object,required:!0}},setup(b){it.register(rt,_t,ut,pt,ht,vt,mt,gt);const u=b,c=x(()=>u.data),_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},cornerRadius:8}},scales:{x:{grid:{display:!1},ticks:{font:{size:12}}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:12}}}},elements:{point:{radius:4,hoverRadius:6}}};return(f,m)=>(v(),L(n(bt),{data:c.value,options:_},null,8,["data"]))}},Tt={class:"dashboard"},kt={class:"stats-grid"},wt={class:"stat-card primary"},Dt={class:"stat-icon"},Ct={class:"stat-content"},xt={class:"stat-value"},Lt={class:"stat-card warning"},St={class:"stat-icon"},Et={class:"stat-content"},Pt={class:"stat-value"},zt={class:"stat-card success"},Ft={class:"stat-icon"},Nt={class:"stat-content"},Vt={class:"stat-value"},Bt={class:"stat-card danger"},Ot={class:"stat-icon"},Rt={class:"stat-content"},Yt={class:"stat-value"},$t={class:"charts-row"},At={class:"content-card chart-card"},Mt={class:"content-card-header"},jt={class:"chart-container"},It={class:"content-card chart-card"},qt={class:"chart-container"},Ht={class:"content-card"},Qt={class:"content-card-header"},Ut={class:"content-cell"},Xt={__name:"Dashboard",setup(b){const u=H(),c=B({total:0,processing:0,completed:0,overdue:0}),_=p(new Date().getFullYear()),f=x(()=>{const o=new Date().getFullYear();return[o-2,o-1,o]}),m=p({labels:["T1","T2","T3","T4","T5","T6","T7","T8","T9","T10","T11","T12"],datasets:[{label:"Phản ánh",data:[],borderColor:"#0d6efd",backgroundColor:"rgba(13, 110, 253, 0.1)",fill:!0,tension:.4}]}),g=p({labels:[],datasets:[{label:"Số phản ánh",data:[],backgroundColor:["rgba(13, 110, 253, 0.8)","rgba(25, 135, 84, 0.8)","rgba(255, 193, 7, 0.8)","rgba(220, 53, 69, 0.8)","rgba(108, 117, 125, 0.8)"]}]}),y=p([]),S=()=>{u.push("/feedback")},E=o=>{u.push(`/feedback/${o}`)},T=async()=>{{Object.assign(c,j),m.value.datasets[0].data=I,g.value.labels=C.map(o=>o.departmentName),g.value.datasets[0].data=C.map(o=>o.count),y.value=q.slice(0,5);return}};return O(()=>{T()}),R(_,()=>{T()}),(o,e)=>{const r=Y,P=K,z=$,k=A,i=tt,F=et,w=st,N=M;return v(),D("div",Tt,[t("div",kt,[t("div",wt,[t("div",Dt,[a(r,null,{default:l(()=>[a(n(Q))]),_:1})]),t("div",Ct,[t("div",xt,d(c.total),1),e[1]||(e[1]=t("div",{class:"stat-label"},"Tổng phản ánh tháng",-1))])]),t("div",Lt,[t("div",St,[a(r,null,{default:l(()=>[a(n(U))]),_:1})]),t("div",Et,[t("div",Pt,d(c.processing),1),e[2]||(e[2]=t("div",{class:"stat-label"},"Đang xử lý",-1))])]),t("div",zt,[t("div",Ft,[a(r,null,{default:l(()=>[a(n(X))]),_:1})]),t("div",Nt,[t("div",Vt,d(c.completed),1),e[3]||(e[3]=t("div",{class:"stat-label"},"Hoàn thành",-1))])]),t("div",Bt,[t("div",Ot,[a(r,null,{default:l(()=>[a(n(Z))]),_:1})]),t("div",Rt,[t("div",Yt,d(c.overdue),1),e[4]||(e[4]=t("div",{class:"stat-label"},"Quá hạn",-1))])])]),t("div",$t,[t("div",At,[t("div",Mt,[e[5]||(e[5]=t("h3",{class:"content-card-title"},"Phản ánh theo tháng",-1)),a(z,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=s=>_.value=s),size:"small",style:{width:"100px"}},{default:l(()=>[(v(!0),D(G,null,J(f.value,s=>(v(),L(P,{key:s,label:s,value:s},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),t("div",jt,[a(yt,{data:m.value},null,8,["data"])])]),t("div",It,[e[6]||(e[6]=t("div",{class:"content-card-header"},[t("h3",{class:"content-card-title"},"Top 5 Phòng ban")],-1)),t("div",qt,[a(ft,{data:g.value},null,8,["data"])])])]),t("div",Ht,[t("div",Qt,[e[8]||(e[8]=t("h3",{class:"content-card-title"},"Phản ánh mới nhất",-1)),a(k,{type:"primary",text:"",onClick:S},{default:l(()=>[e[7]||(e[7]=h(" Xem tất cả ",-1)),a(r,{class:"el-icon--right"},{default:l(()=>[a(n(W))]),_:1})]),_:1})]),a(N,{data:y.value,stripe:"",style:{width:"100%"}},{default:l(()=>[a(i,{prop:"code",label:"Số PA",width:"145"}),a(i,{prop:"receivedDate",label:"Ngày",width:"105"},{default:l(({row:s})=>[h(d(n(at)(s.receivedDate)),1)]),_:1}),a(i,{prop:"content",label:"Nội dung","min-width":"220"},{default:l(({row:s})=>[a(F,{content:s.content,placement:"top","show-after":500},{default:l(()=>[t("span",Ut,d(s.content),1)]),_:2},1032,["content"])]),_:1}),a(i,{prop:"departmentName",label:"Phòng","min-width":"100"}),a(i,{prop:"level",label:"Mức độ",width:"95",align:"center"},{default:l(({row:s})=>[a(w,{type:n(lt)(s.level),size:"small"},{default:l(()=>[h(d(n(nt)(s.level)),1)]),_:2},1032,["type"])]),_:1}),a(i,{prop:"status",label:"Trạng thái",width:"105",align:"center"},{default:l(({row:s})=>[a(w,{type:n(ot)(s.status),size:"small"},{default:l(()=>[h(d(n(dt)(s.status)),1)]),_:2},1032,["type"])]),_:1}),a(i,{label:"",width:"50",align:"center"},{default:l(({row:s})=>[a(k,{type:"primary",text:"",size:"small",onClick:Zt=>E(s.id)},{default:l(()=>[a(r,null,{default:l(()=>[a(n(ct))]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])])])}}},ea=V(Xt,[["__scopeId","data-v-eb7a3b36"]]);export{ea as default};
